<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>CineMaster • Liên hệ & Trung tâm hỗ trợ</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../css/user.css">
    <style>
        .shell{max-width:1100px;margin:110px auto 60px;padding:0 24px;}
        .contact-card,.info-card{
            background:var(--card);border:1px solid var(--border);
            border-radius:12px;padding:25px;box-shadow:0 0 10px rgba(0,0,0,.4);
        }
        .form-control,.form-select{
            background-color:#121b33;border:1px solid var(--border);color:#e0e6f5;
        }
        .form-control:focus,.form-select:focus{
            border-color:var(--cyan);box-shadow:0 0 0 0.2rem rgba(34,193,255,0.25);
        }
        .btn-submit{
            background:linear-gradient(145deg,var(--cyan),var(--blue));
            color:#000;font-weight:600;border:none;border-radius:8px;padding:12px;
            transition:all .25s ease;
        }
        .btn-submit:hover{transform:translateY(-1px);box-shadow:0 6px 18px rgba(34,193,255,.4);}
    </style>
</head>
<body>
<div class="grain"></div>
<div class="tickets-wall"><div class="tickets-layer l1"></div><div class="tickets-layer l2"></div></div>


<div id="header"></div>


<main class="shell">
    <section class="film schedule-panel">
        <div class="panel-head mb-4">
            <h2 class="fw-bold text-info"><i class="fa-solid fa-headset me-2"></i>Liên hệ & Trung tâm hỗ trợ</h2>
        </div>


        <div class="row g-4">
            <div class="col-lg-7">
                <div class="contact-card">
                    <form id="contactForm">
                        <div class="mb-3">
                            <label class="form-label">Họ Tên Của Bạn</label>
                            <input name="fullName" class="form-control" placeholder="Nguyễn Văn A" required />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Email</label>
                            <input name="email" type="email" class="form-control" placeholder="email@example.com" required />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Số Điện Thoại</label>
                            <input name="phone" class="form-control" placeholder="090xxxxxxxx" />
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Chi Nhánh Liên Hệ</label>
                            <select name="branchId" id="branchSelect" class="form-select" required>
                                <option value="">-- Chọn chi nhánh --</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Chủ Đề</label>
                            <select name="subject" class="form-select" required>
                                <option value="">-- Chọn chủ đề --</option>
                                <option value="Phản hồi dịch vụ">Phản hồi dịch vụ</option>
                                <option value="Hợp tác kinh doanh">Hợp tác kinh doanh</option>
                                <option value="Khiếu nại">Khiếu nại</option>
                                <option value="Khác">Khác</option>
                            </select>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Nội Dung Chi Tiết</label>
                            <textarea name="message" class="form-control" rows="4" maxlength="500"
                                      placeholder="Mô tả chi tiết vấn đề hoặc phản hồi của bạn..." required></textarea>
                            <div class="form-text text-end text-muted" id="charCount">0 / 500 ký tự</div>
                        </div>
                        <button class="btn btn-submit w-100" type="submit">
                            <i class="fa-solid fa-paper-plane me-2"></i>Gửi yêu cầu hỗ trợ
                        </button>
                    </form>
                </div>
            </div>
            <div class="col-lg-5">
                <div class="info-card">
                    <h5 class="text-info mb-3"><i class="fa-solid fa-circle-info me-2"></i>Thông Tin Liên Hệ Khác</h5>
                    <p><i class="fa-solid fa-phone me-2"></i><b>Đường dây nóng:</b> 1900 6000</p>
                    <p><i class="fa-solid fa-envelope me-2"></i><b>Email:</b> support@cinemaster.vn</p>
                    <p><i class="fa-regular fa-clock me-2"></i><b>Giờ làm việc:</b> 8:00 - 22:00 (T2 - CN)</p>
                    <p><i class="fa-solid fa-location-dot me-2"></i><b>Địa chỉ:</b> Toà nhà Cinema Tower, Q1, TP.HCM</p>
                </div>
            </div>
        </div>
    </section>
</main>


<div id="footer"></div>


<!-- ✅ Load header/footer trước -->
<script>
    (async function loadHeaderFooter() {
        const headerEl = document.getElementById("header");
        const footerEl = document.getElementById("footer");

        try {
            // --- Nạp header ---
            const headerHtml = await (await fetch("../home/customer-header.html")).text();
            headerEl.innerHTML = headerHtml;

            // ✅ Tạo DOM tạm để trích xuất script
            const temp = document.createElement("div");
            temp.innerHTML = headerHtml;

            // ✅ Chạy lại tất cả <script> trong header
            const scripts = temp.querySelectorAll("script");
            for (const oldScript of scripts) {
                const newScript = document.createElement("script");
                if (oldScript.src) newScript.src = oldScript.src;
                else newScript.textContent = oldScript.textContent;
                document.body.appendChild(newScript);
            }

            // --- Nạp footer ---
            const footerHtml = await (await fetch("../home/footer.html")).text();
            footerEl.innerHTML = footerHtml;

        } catch (err) {
            console.error("❌ Lỗi load header/footer:", err);
        }
    })();
</script>


<!-- ✅ Sau khi header/footer load xong mới chạy contact.js -->
<script type="module" src="./contact.js"></script>


<script>
    const ta=document.querySelector('textarea[name="message"]');
    const counter=document.getElementById("charCount");
    ta.addEventListener("input",()=>counter.textContent=`${ta.value.length} / 500 ký tự`);
</script>
</body>
</html>

