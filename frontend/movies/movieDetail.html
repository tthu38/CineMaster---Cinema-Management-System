<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>CineMaster ‚Ä¢ Chi ti·∫øt phim</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&family=Bebas+Neue&display=swap"
          rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
        :root {
            --red: #e50914;
            --cyan: #22c1ff;
            --blue: #0aa3ff;
            --ink: #06101f;
            --bg: #0b162c;
            --card: #0c1324;
            --border: #1b2b4a;
            --muted: #9aa7b3;
            --muted2: #cfe3ff;
        }


        html, body {
            margin: 0;
            color: #fff;
            font-family: 'Roboto', sans-serif;
            background-color: var(--ink);
            background-image:
                    radial-gradient(1200px 600px at -10% -35%, rgba(229, 9, 20, .18), transparent 60%),
                    radial-gradient(900px 400px at 120% -20%, rgba(34, 193, 255, .12), transparent 60%),
                    linear-gradient(180deg, var(--ink), var(--bg));
            background-repeat: no-repeat;
            background-attachment: fixed;
            min-height: 100vh;
        }


        /* üé¨ Hero Section */
        .hero {
            position: relative;
            width: 100%;
            height: 70vh;
            overflow: hidden;
        }
        .hero img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: brightness(0.35) blur(3px);
        }


        /* üé• Movie Block */
        .movie-info-block {
            max-width: 1300px;
            margin: -200px auto 60px auto;
            position: relative;
            z-index: 10;
        }


        .movie-details {
            background: linear-gradient(180deg, #0b152a, #0c162c);
            padding: 45px;
            border-radius: 20px;
            box-shadow: 0 12px 35px rgba(0,0,0,.6);
        }


        .poster-container {
            border: 3px solid var(--cyan);
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 0 25px rgba(34, 193, 255, 0.7);
            aspect-ratio: 2/3;
            max-width: 300px;
            margin: 0 auto 20px auto;
        }


        .poster-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }


        #title {
            font-family: 'Bebas Neue', sans-serif;
            color: var(--cyan);
            font-weight: 700;
            font-size: 3rem;
            text-shadow: 0 0 15px rgba(34,193,255,0.7);
        }


        .badge-info {
            font-size: 0.9rem;
            font-weight: 700;
            padding: 6px 14px;
            border-radius: 4px;
            margin-right: 10px;
        }


        .badge-age { background-color: var(--red); }
        .badge-status-now { background-color: var(--cyan); color: var(--ink); }
        .badge-status-soon { background-color: #ffd700; color: var(--ink); }
        .badge-status-ended { background-color: #6c757d; color: #fff; }


        #genre-text {
            color: var(--red);
            font-weight: 600;
            text-transform: uppercase;
        }


        .description-box {
            border-left: 3px solid var(--red);
            padding-left: 15px;
            margin-top: 20px;
        }


        .metadata-line {
            padding: 8px 0;
            border-bottom: 1px dashed rgba(224,231,255,0.1);
        }


        .metadata-line strong {
            color: var(--cyan);
            width: 160px;
            display: inline-block;
        }


        .btn-trailer {
            background: var(--red);
            color: #fff;
            font-weight: 700;
            padding: 12px 25px;
            border-radius: 6px;
            margin-top: 15px;
            box-shadow: 0 0 15px rgba(229,9,14,0.6);
            transition: all .3s;
        }
        .btn-trailer:hover { background: #ff073a; transform: scale(1.03); }






        .trailer-wrapper iframe {
            width: 100%;
            border-radius: 10px;
            box-shadow: 0 0 25px rgba(34,193,255,0.5);
        }


        /* ‚≠ê Feedback Section */
        .feedback-section {
            max-width: 1300px;
            margin: 70px auto;
            background: linear-gradient(180deg, #0b152a, #0c162c);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 14px 32px rgba(0,0,0,.5);
        }


        .btn-booking {
            background: linear-gradient(90deg, var(--cyan), var(--blue));
            color: var(--ink);
            font-weight: 700;
            border-radius: 8px;
            padding: 12px 25px;
            box-shadow: 0 0 20px rgba(34, 193, 255, 0.5);
            transition: 0.3s;
        }
        .btn-booking:hover {
            background: linear-gradient(90deg, #22c1ff, #0aa3ff);
            transform: scale(1.05);
        }




        .feedback-header h3 {
            color: var(--cyan);
            font-family: 'Bebas Neue', sans-serif;
            text-shadow: 0 0 8px var(--cyan);
        }


        .feedback-header .avg {
            color: #ffd700;
            font-size: 3rem;
            margin-top: 10px;
        }


        .feedback-item {
            border-left: 4px solid var(--red);
            background: rgba(11,21,42,.6);
            padding: 1rem;
            margin-bottom: 1rem;
            border-radius: 6px;
        }


        .btn-submit {
            background: var(--red);
            color: #fff;
            font-weight: 700;
            border-radius: 8px;
            padding: 10px 25px;
            border: none;
        }


        .btn-back {
            display: block;
            margin: 40px auto 80px auto;
            background: var(--cyan);
            color: var(--ink);
            border: none;
            font-weight: 700;
            border-radius: 8px;
            padding: 12px 30px;
            transition: 0.3s;
        }


        .btn-back:hover {
            background: #0aa3ff;
            transform: scale(1.05);
        }


        @media (max-width: 992px) {
            #title { font-size: 2.2rem; text-align: center; }
            .movie-details { padding: 30px; }
            .poster-container { max-width: 250px; }
        }
    </style>
</head>
<body>
<div id="header"></div>


<main class="shell">
    <!-- Hero background -->
    <section class="hero">
        <img id="hero-poster" src="../image/default_movie.jpg" alt="Banner Phim">
    </section>


    <!-- Movie Info -->
    <div class="movie-info-block">
        <section class="movie-details">
            <div class="row g-4 align-items-start">
                <!-- Left -->
                <div class="col-lg-4 text-center">
                    <div class="poster-container">
                        <img id="poster" src="../image/default_movie.jpg" alt="Poster Phim">
                    </div>
                    <div id="trailer-wrapper" class="trailer-wrapper mt-3" style="max-width:320px; margin:auto;"></div>
                    <a id="btn-trailer" href="#" target="_blank" class="btn btn-trailer w-100">
                        <i class="fa-solid fa-video"></i> XEM TRAILER
                    </a>


                    <a id="btn-booking" href="../user/showtimes-calendar.html" class="btn w-100 mt-3 btn-booking">
                        <i class="fa-solid fa-ticket"></i> ƒê·∫∂T V√â NGAY
                    </a>


                </div>


                <!-- Right -->
                <div class="col-lg-8">
                    <h2 id="title">[T√äN PHIM]</h2>
                    <div class="d-flex flex-wrap gap-2 mb-3 align-items-center">
                        <span id="ageRestrictionBadge" class="badge-info badge-age">C18</span>
                        <span id="statusBadge" class="badge-info badge-status-now">ƒêANG CHI·∫æU</span>
                        <span id="durationBadge" class="badge-info badge-duration">148 PH√öT</span>
                        <span id="countryBadge" class="badge-info bg-secondary">
                           <i class="fa-solid fa-globe"></i> VI·ªÜT NAM
                       </span>
                    </div>
                    <p id="genre-text" class="lead"><i class="fa-solid fa-tags"></i> Th·ªÉ lo·∫°i: H√†nh ƒë·ªông / K·ªãch t√≠nh</p>


                    <div class="description-box">
                        <h5 class="text-light text-uppercase mb-2">T√≥m t·∫Øt n·ªôi dung</h5>
                        <p id="descriptions" class="text-light">
                            ƒê√¢y l√† ph·∫ßn m√¥ t·∫£ n·ªôi dung chi ti·∫øt c·ªßa phim, ƒë∆∞·ª£c t·∫£i t·ª´ c∆° s·ªü d·ªØ li·ªáu.
                        </p>
                    </div>


                    <div class="movie-metadata mt-4">
                        <div class="metadata-line"><strong>ƒê·∫°o di·ªÖn:</strong> <span id="director"></span></div>
                        <div class="metadata-line"><strong>Di·ªÖn vi√™n:</strong>
                            <span id="casts" style="font-style: italic; color: #a0aec0;"></span></div>
                        <div class="metadata-line"><strong>Ng√†y ph√°t h√†nh:</strong> <span id="releaseDate"></span></div>
                        <div class="metadata-line"><strong>Ng√¥n ng·ªØ:</strong> <span id="languages"></span></div>
                        <div class="metadata-line"><strong>Gi·ªõi h·∫°n tu·ªïi:</strong> <span id="ageRestrictionText"></span></div>
                    </div>
                </div>
            </div>
        </section>
    </div>


    <!-- Feedback -->
    <section class="feedback-section">
        <div class="feedback-header text-center">
            <h3><i class="fa-solid fa-star-half-stroke"></i> ƒê√ÅNH GI√Å NG∆Ø·ªúI D√ôNG</h3>
            <div class="avg" id="avg-rating">‚≠ê 0.0</div>
            <div class="count" id="feedback-count">(0 ƒë√°nh gi√° ƒë√£ ƒë∆∞·ª£c ghi nh·∫≠n)</div>
        </div>


        <div id="feedback-list"></div>


        <hr class="border-secondary my-4">


        <div class="feedback-form">
            <h5 class="text-light mb-3 text-uppercase">
                <i class="fa-solid fa-pen-to-square"></i> Nh·∫≠p ƒë√°nh gi√° c·ªßa b·∫°n
            </h5>
            <div class="d-flex align-items-center mb-3 gap-3 flex-wrap">
                <label class="form-label text-light mb-0">X·∫øp h·∫°ng:</label>
                <select id="rating" class="form-select" style="max-width: 220px;">
                    <option value="5">‚≠ê 5 - Tuy·ªát v·ªùi</option>
                    <option value="4">‚≠ê 4 - Hay</option>
                    <option value="3">‚≠ê 3 - B√¨nh th∆∞·ªùng</option>
                    <option value="2">‚≠ê 2 - Ch∆∞a hay</option>
                    <option value="1">‚≠ê 1 - T·ªá</option>
                </select>
            </div>
            <div class="mb-3">
               <textarea id="comment" rows="3" class="form-control"
                         placeholder="Chia s·∫ª c·∫£m nghƒ© c·ªßa b·∫°n v·ªÅ b·ªô phim n√†y..."></textarea>
            </div>
            <button id="btn-submit" class="btn btn-submit">
                <i class="fa-solid fa-paper-plane"></i> G·ª≠i ƒë√°nh gi√°
            </button>
        </div>
    </section>


    <button id="btn-back" class="btn btn-back">
        <i class="fa-solid fa-arrow-left"></i> Quay l·∫°i danh s√°ch phim
    </button>
</main>


<div id="footer"></div>


<script type="module" src="../js/movieDetail.js"></script>
<script>
    (async function loadHeader() {
        const headerEl = document.getElementById("header");
        try {
            const res = await fetch("../home/customer-header.html");
            const html = await res.text();
            headerEl.innerHTML = html;


            const scripts = headerEl.querySelectorAll("script");
            scripts.forEach(s => {
                const ns = document.createElement("script");
                if (s.src) ns.src = s.src; else ns.textContent = s.textContent;
                document.body.appendChild(ns);
            });
        } catch (err) { console.error("L·ªói load header:", err); }
    })();


    fetch("../home/footer.html")
        .then(res => res.text())
        .then(html => document.getElementById("footer").innerHTML = html)
        .catch(err => console.error("L·ªói load footer:", err));
</script>


</body>
</html>



