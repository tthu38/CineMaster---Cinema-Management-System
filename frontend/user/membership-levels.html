<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>CineMaster • Membership Levels</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&family=Bebas+Neue&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="../css/user.css">

    <style>

        .table > tbody > tr > td {
            background-color: transparent !important;
            color: #e6f1ff;
        }
        .table thead th {
            background: linear-gradient(90deg, #09182d, #0b2345);
            color: #58c6ff !important;
            font-weight: 700;
            border-bottom: 2px solid #13305c !important;
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        .table tbody tr:hover { background-color: rgba(22, 40, 76, 0.8) !important; }

        .modal-content.glass-modal {
            background: rgba(8, 16, 32, 0.35) !important; /* nền mờ trong suốt */
            backdrop-filter: blur(18px) saturate(160%) !important;
            -webkit-backdrop-filter: blur(18px) saturate(160%);
            border: 1px solid rgba(34, 193, 255, 0.35) !important;
            border-radius: 18px;
            color: #e6f1ff !important;
            box-shadow: 0 0 35px rgba(34,193,255,0.2);
            transition: all 0.3s ease;
        }

        .modal-content.glass-modal .modal-header,
        .modal-content.glass-modal .modal-footer {
            background: rgba(10, 20, 40, 0.45) !important;
            border-color: rgba(34,193,255,0.25) !important;
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
        }

        .modal-content.glass-modal .form-control {
            background: rgba(14, 29, 56, 0.55);
            border: 1px solid rgba(34,193,255,0.25);
            color: #fff;
            border-radius: 10px;
            transition: all 0.25s ease;
        }
        .modal-content.glass-modal .form-control:focus {
            border-color: var(--cyan);
            box-shadow: 0 0 10px rgba(34,193,255,0.4);
            background: rgba(10, 25, 50, 0.65);
        }

        .modal-content.glass-modal .form-label {
            color: #cfe3ff;
            font-weight: 500;
        }

        .modal-content.glass-modal .btn-primary {
            background: linear-gradient(90deg, var(--blue), var(--cyan));
            border: none;
            color: #051020;
            font-weight: 700;
            box-shadow: 0 0 12px rgba(34,193,255,0.35);
            transition: 0.3s ease;
        }
        .modal-content.glass-modal .btn-primary:hover {
            box-shadow: 0 0 22px rgba(34,193,255,0.65);
            transform: translateY(-1px);
        }
        .modal-content.glass-modal .btn-outline:hover {
            color: var(--cyan);
            border-color: var(--cyan);
            box-shadow: 0 0 14px rgba(34,193,255,0.4);
        }


        .modal-content {
            background-color: transparent !important;
        }


    </style>
</head>
<body>
<div class="grain"></div>
<div class="tickets-wall" aria-hidden="true">
    <div class="tickets-layer l1"></div>
    <div class="tickets-layer l2"></div>
</div>

<main class="shell">
    <section class="film">
        <div class="panel-head">
            <i class="fa-solid fa-layer-group"></i>
            <h2>QUẢN LÝ CẤP BẬC THÀNH VIÊN</h2>
        </div>
        <div class="panel-head">
                <input id="kw" class="form-control" placeholder="Tìm theo tên cấp..." style="min-width:220px">
                <button id="btnSearch" class="btn btn-outline"><i class="fa-solid fa-magnifying-glass"></i></button>
                <button id="btnCreate" class="btn btn-primary"><i class="fa-solid fa-plus me-1"></i>Thêm cấp</button>
        </div>


        <div class="panel">
            <div class="table-responsive">
                <table class="table align-middle">
                    <thead>
                    <tr>
                        <th style="width:70px">ID</th>
                        <th>Tên cấp</th>
                        <th>Khoảng điểm</th>
                        <th>Quyền lợi</th>
                        <th style="width:140px" class="text-end">Thao tác</th>
                    </tr>
                    </thead>
                    <tbody id="tblBody">
                    <tr><td colspan="5" class="text-center text-muted py-4">Đang tải...</td></tr>
                    </tbody>
                </table>
            </div>
        </div>
        <div id="pagination" class="mt-4 d-flex justify-content-center"></div>
    </section>
</main>

<div class="modal fade" id="levelModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <form class="modal-content glass-modal" id="levelForm">
            <div class="modal-header" style="border-color:#1b2b4a">
                <h5 class="modal-title" id="levelModalTitle">Thêm cấp</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
            </div>
            <div class="modal-body">
                <div id="formAlert" class="alert alert-danger d-none"></div>
                <div class="row g-3">
                    <div class="col-md-6">
                        <label class="form-label">Tên cấp</label>
                        <input type="text" class="form-control" id="levelName" required maxlength="20">
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Min Points</label>
                        <input type="number" class="form-control" id="minPoints" min="0" required>
                    </div>
                    <div class="col-md-3">
                        <label class="form-label">Max Points</label>
                        <input type="number" class="form-control" id="maxPoints" min="0" required>
                    </div>
                    <div class="col-12">
                        <label class="form-label">Quyền lợi</label>
                        <textarea class="form-control" id="benefits" rows="3" placeholder="Ưu đãi, điều kiện..."></textarea>
                    </div>
                </div>
            </div>
            <div class="modal-footer" style="border-color:#1b2b4a">
                <button type="button" class="btn btn-outline" data-bs-dismiss="modal">Hủy</button>
                <button type="submit" class="btn btn-primary" id="btnSave"><i class="fa-solid fa-floppy-disk me-2"></i>Lưu</button>
            </div>
        </form>
    </div>
</div>

<div class="modal fade" id="confirmModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content bg-dark text-white border-secondary">
            <div class="modal-header">
                <h5 class="modal-title">Xác nhận hành động</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" id="confirmMessage">Bạn có chắc chắn muốn xóa cấp thành viên này?</div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-primary" id="confirmOkBtn">Đồng ý</button>
            </div>
        </div>
    </div>
</div>

<div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
    <div id="toastContainer"></div>
</div>

<script type="module" src="../js/membership-levels.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../js/footer-loader.js"></script>
</body>
</html>

