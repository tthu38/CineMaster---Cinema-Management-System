<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - Quản Lý Account • CineMaster</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">


    <style>
        /* ⚙️ Giữ nguyên toàn bộ CSS của bạn, không đổi */
        :root {
            --ink:#06101f;--bg:#0b162c;--border:#1b2b4a;--blue:#0aa3ff;--cyan:#22c1ff;--red:#e50914;
        }
        html,body{
            margin:0;font-family:'Roboto',sans-serif;color:#fff;min-height:100vh;
            background-color:var(--ink);
            background-image:
                    radial-gradient(1200px 600px at -10% -35%, rgba(229,9,20,.18), transparent 60%),
                    radial-gradient(900px 400px at 120% -20%, rgba(34,193,255,.12), transparent 60%),
                    linear-gradient(180deg, var(--ink), var(--bg));
            background-repeat:no-repeat,no-repeat,no-repeat;
            background-attachment:fixed,fixed,fixed;
        }
        .tickets-wall{position:fixed;inset:0;pointer-events:none;z-index:5;}
        .tickets-wall .tickets-layer{position:absolute;inset:-10%;background-repeat:repeat;background-size:320px 160px;opacity:.14;filter:drop-shadow(0 0 20px rgba(22,40,76,.18));transform-origin:center center;}
        .grain{pointer-events:none;position:fixed;inset:0;opacity:.14;mix-blend-mode:screen;background-image:radial-gradient(circle at 20% 30%, rgba(255,255,255,.06) 0 2px, transparent 2px),radial-gradient(circle at 70% 60%, rgba(255,255,255,.05) 0 2px, transparent 2px);background-size:200px 200px,260px 260px;animation:drift 18s linear infinite alternate;z-index:5;}
        @keyframes drift{from{transform:translate3d(0,0,0)}to{transform:translate3d(30px,-25px,0)}}
        .container{margin-top:60px;max-width:1200px;position:relative;z-index:10;}
        .header,.film{background:rgba(12,22,44,0.15);backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);border:1px solid rgba(34,193,255,0.2);border-radius:18px;box-shadow:0 14px 32px rgba(0,0,0,.5);}
        .header{padding:20px;text-align:center;margin-bottom:20px;}
        .film{position:relative;background:rgba(8,20,40,0.45);backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border:1px solid rgba(34,193,255,0.25);border-radius:18px;box-shadow:0 0 40px rgba(10,50,100,.45);overflow:hidden;color:#fff;}
        .film::before,.film::after{content:"";position:absolute;left:0;right:0;height:12px;background:repeating-linear-gradient(90deg,rgba(34,193,255,0.15) 0 14px,transparent 14px 28px);filter:drop-shadow(0 0 8px rgba(34,193,255,.25));}
        .film::before{top:10px;}.film::after{bottom:10px;}
        .form-control,.form-select{background:rgba(14,28,55,0.4)!important;border:1px solid rgba(34,193,255,0.2);color:#fff!important;border-radius:10px;transition:all .25s ease;}
        .form-control:focus,.form-select:focus{background:rgba(10,25,50,0.6);border-color:var(--cyan);box-shadow:0 0 10px rgba(34,193,255,0.4);}
        .form-select option{background:#0b162c;color:#fff;}
        .btn-primary{background:linear-gradient(90deg,var(--blue),var(--cyan));border:none;color:#fff;font-weight:800;text-shadow:0 1px 2px rgb(234,234,234);}
        .btn-primary:hover{filter:brightness(1.1);}
        .btn-danger,.btn-warning{border:none;border-radius:10px;}
        .filter-btn{border-radius:10px 0 0 10px;color:#fff;border:1px solid var(--border);background:transparent;}
        .filter-btn:last-child{border-radius:0 10px 10px 0;}
        .filter-btn.active{background:var(--blue);color:#fff;}
        .table{background-color:rgba(10,25,50,0.5)!important;color:#e6f1ff!important;width:100%;box-shadow:0 0 30px rgba(10,50,100,0.35);border-radius:12px;overflow:hidden;border:1px solid rgba(34,193,255,0.15);}
        .table thead th{background:rgba(16,34,65,0.4);backdrop-filter:blur(5px);font-weight:600;text-align:center;color:#58c6ff!important;text-transform:uppercase;}
        .table>tbody>tr>td{background-color:transparent!important;color:#e6f1ff!important;}
        .table tbody tr:hover td{color:#fff!important;}
        .profile-img{width:50px;height:50px;border-radius:50%;object-fit:cover;border:1px solid rgba(34,193,255,0.2);}
        .status-dot{display:inline-block;width:12px;height:12px;border-radius:50%;margin-right:8px;}
        .status-active{background-color:#28a745;}
        .status-inactive{background-color:#dc3545;}
    </style>
</head>


<body>
<div class="grain"></div>
<div class="tickets-wall" aria-hidden="true">
    <div class="tickets-layer l1"></div>
    <div class="tickets-layer l2"></div>
</div>


<!-- ✅ Header (load động) -->
<div id="header"></div>


<div class="container">
    <div class="header">
        <h2>Quản Lý Nhân Viên</h2>
        <div class="d-flex justify-content-center mb-3">
            <div class="btn-group" role="group">
                <button class="btn filter-btn active" data-role="">Tất cả</button>
                <button class="btn filter-btn" data-role="4">Customer</button>
                <button class="btn filter-btn" data-role="2">Manager</button>
                <button class="btn filter-btn" data-role="3">Staff</button>
            </div>
            <div class="d-flex ms-3">
                <input id="searchInput" type="text" class="form-control me-2" placeholder="Tìm kiếm...">
                <select id="branchFilter" class="form-select me-2"></select>
                <a href="createUser.html" class="btn btn-primary text-nowrap">Thêm Account</a>
            </div>
        </div>
    </div>


    <div class="film">
        <table class="table table-bordered table-hover align-middle">
            <thead>
            <tr>
                <th>ID</th>
                <th>Profile Picture</th>
                <th>Email</th>
                <th>Fullname</th>
                <th>Phone</th>
                <th>Is Active</th>
                <th>Role</th>
                <th>Chi nhánh</th>
                <th>Hành động</th>
            </tr>
            </thead>
            <tbody id="accountTable"></tbody>
        </table>
        <div id="pagination" class="d-flex justify-content-center mt-3"></div>
    </div>
</div>


<!-- ✅ Footer (load động) -->
<div id="footer"></div>


<!-- Modals giữ nguyên -->
<div class="modal fade" id="deleteAccountModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Xác nhận vô hiệu hóa</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                Bạn có chắc muốn vô hiệu hóa account <strong id="deleteAccountName"></strong> không?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-danger" id="confirmDeleteBtn">Xóa</button>
            </div>
        </div>
    </div>
</div>


<div class="modal fade" id="restoreAccountModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Xác nhận khôi phục</h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                Bạn có muốn khôi phục account <strong id="restoreAccountName"></strong> không?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Hủy</button>
                <button type="button" class="btn btn-success" id="confirmRestoreBtn">Khôi phục</button>
            </div>
        </div>
    </div>
</div>


<!-- JS -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script type="module" src="../js/listAccount.js"></script>


<!-- ✅ Đoạn script load header/footer -->
<script>
    (async function loadHeaderFooter(){
        const headerEl = document.getElementById("header");
        const footerEl = document.getElementById("footer");
        try{
            const headerHtml = await (await fetch("../home/customer-header.html")).text();
            headerEl.innerHTML = headerHtml;


            // Ép chạy script trong header (để avatar và menu user hoạt động)
            headerEl.querySelectorAll("script").forEach(s=>{
                const ns=document.createElement("script");
                if(s.src) ns.src=s.src; else ns.textContent=s.textContent;
                document.body.appendChild(ns);
            });


            const footerHtml = await (await fetch("../home/footer.html")).text();
            footerEl.innerHTML = footerHtml;
        }catch(err){
            console.error("Lỗi load header/footer:",err);
        }
    })();
</script>


</body>
</html>

